<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Rules and Logic | AireForms</title>
    <meta name="description" content="User Guides and Developer Documentation for AireForms">
    <meta name="generator" content="VitePress v1.2.2">
    <link rel="preload stylesheet" href="/assets/style.tOrWFgeY.css" as="style">
    
    <script type="module" src="/assets/app.DmzK2LnU.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.BYhES31N.js">
    <link rel="modulepreload" href="/assets/chunks/theme.CvyqD9GH.js">
    <link rel="modulepreload" href="/assets/user-guide_advanced_rules-and-logic.md.CYso9H_J.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar has-sidebar top" data-v-7ad780c2 data-v-844edcde><div class="wrapper" data-v-844edcde><div class="container" data-v-844edcde><div class="title" data-v-844edcde><div class="VPNavBarTitle has-sidebar" data-v-844edcde data-v-0ad69264><a class="title" href="/" data-v-0ad69264><!--[--><!--]--><!----><span data-v-0ad69264>AireForms</span><!--[--><!--]--></a></div></div><div class="content" data-v-844edcde><div class="content-body" data-v-844edcde><!--[--><!--]--><div class="VPNavBarSearch search" data-v-844edcde><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-844edcde data-v-f732b5d0><span id="main-nav-aria-label" class="visually-hidden" data-v-f732b5d0>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-f732b5d0 data-v-08fbf4b6><!--[--><span data-v-08fbf4b6>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/user-guide/getting-started.html" tabindex="0" data-v-f732b5d0 data-v-08fbf4b6><!--[--><span data-v-08fbf4b6>User guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/developers/api.html" tabindex="0" data-v-f732b5d0 data-v-08fbf4b6><!--[--><span data-v-08fbf4b6>Developers</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/changelog.html" tabindex="0" data-v-f732b5d0 data-v-08fbf4b6><!--[--><span data-v-08fbf4b6>Changelog</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://demo.forms4health.com" target="_blank" rel="noreferrer" tabindex="0" data-v-f732b5d0 data-v-08fbf4b6><!--[--><span data-v-08fbf4b6>Demo</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://www.aireinnovate.com/forms4health" target="_blank" rel="noreferrer" tabindex="0" data-v-f732b5d0 data-v-08fbf4b6><!--[--><span data-v-08fbf4b6>Find out more</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-844edcde data-v-283b26e9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-283b26e9 data-v-7df97737 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-7df97737></span><span class="vpi-moon moon" data-v-7df97737></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-844edcde data-v-8e87c032 data-v-af5898d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-af5898d3><span class="vpi-more-horizontal icon" data-v-af5898d3></span></button><div class="menu" data-v-af5898d3><div class="VPMenu" data-v-af5898d3 data-v-e42ed9b3><!----><!--[--><!--[--><!----><div class="group" data-v-8e87c032><div class="item appearance" data-v-8e87c032><p class="label" data-v-8e87c032>Appearance</p><div class="appearance-action" data-v-8e87c032><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-8e87c032 data-v-7df97737 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-7df97737></span><span class="vpi-moon moon" data-v-7df97737></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-844edcde data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-844edcde><div class="divider-line" data-v-844edcde></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-883964e0><button data-v-883964e0>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-4871f9f5><div class="curtain" data-v-4871f9f5></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-4871f9f5><span class="visually-hidden" id="sidebar-aria-label" data-v-4871f9f5> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0" data-v-4871f9f5 data-v-c24f735a><!----><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/user-guide/getting-started.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>Getting started</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0" data-v-4871f9f5 data-v-c24f735a><div class="item" role="button" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><h2 class="text" data-v-c24f735a>Building blocks</h2><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/user-guide/buildingblocks/building-block-designer-overview.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>Designer overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/user-guide/buildingblocks/create-add-remove-building-block.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>Create, add and remove</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/user-guide/buildingblocks/edit-building-blocks.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>Edit building blocks</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/user-guide/buildingblocks/add-basic-controls.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>Add basic controls</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/user-guide/buildingblocks/preview-building-blocks.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>Preview</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0" data-v-4871f9f5 data-v-c24f735a><div class="item" role="button" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><h2 class="text" data-v-c24f735a>Advanced topics</h2><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/user-guide/advanced/rules-and-logic.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>Rules and logic</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/user-guide/advanced/best-practices.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>Best practices</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/user-guide/advanced/import-export-form-definitions.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>Download and upload</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0" data-v-4871f9f5 data-v-c24f735a><div class="item" role="button" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><h2 class="text" data-v-c24f735a>Troubleshooting</h2><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/user-guide/faq.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>FAQ</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _user-guide_advanced_rules-and-logic" data-v-e6f2a212><div><h1 id="rules-and-logic" tabindex="-1">Rules and Logic <a class="header-anchor" href="#rules-and-logic" aria-label="Permalink to &quot;Rules and Logic&quot;">​</a></h1><p>The advanced features in forms4health use XPath (XML Path Language) queries.</p><p>For a quick reference list of commonly used XPath expressions in forms4health see the <a href="./../faq.html">FAQ guide</a>.</p><h2 id="calculated-value" tabindex="-1"><strong>Calculated Value</strong> <a class="header-anchor" href="#calculated-value" aria-label="Permalink to &quot;**Calculated Value**&quot;">​</a></h2><p><em>Use for: performing calculations and generating hidden or visible value outputs within your building block</em></p><p>For example:</p><p><img src="/assets/bmi-preview.C4H92M6k.png" alt="calculated value example"></p><p>The following steps show how to create a numeric value calculation with an example using height and weight to output a BMI score. Calculated values can also be used to produce text (string) outputs, and can be developed in numerous ways depending on the complexity of the calculation to be performed.</p><ol><li>Input the required data fields to support the calculation, in this case, height and weight (number fields). In this example, further constraints should be set to assign acceptable height and weight parameters to perform the calculation. See more information about this in the <a href="#validation">validation</a> section above. The height and weight data fields should be set to metric measurements with height input in metres (m) and weight in kilograms (kg). Acceptable limits of (low and high) measurements should be set to ensure that the calculation is performed correctly.</li><li>Name the height and weight controls so that they can be easily referred to in the calculation e.g. “WeightKG” and “HeightM”. Use the <em>Control Settings</em> (cog) icon at the right hand side of each data field.</li></ol><p><img src="/assets/bbd-text-field-label.DIWIogWF.png" alt="text field label"></p><ol start="3"><li>Add a ‘calculated value’ data field where the value will be presented - in this case a number field called ‘calculated BMI’.</li><li>Go to the <em>Control Settings</em> (cog) icon and the <em>Formulas</em> tab. The calculation takes the form: weight divided by height squared. To input this formula in XPath it takes the form: <ul><li>$control-name div (control-name * control-name) OR</li><li>$WeightKG div (HeightM * HeightM)</li></ul></li></ol><p><img src="/assets/bbd-formulas.f1CedXgj.png" alt="calculated formulas"></p><ol start="5"><li>To make the calculation visble when a numeric value is input into both of the height and weight fields, use the following formula (as shown above) in the <em>Visibility</em> text box in the <em>Formulas</em> tab: <ul><li>$WeightKG &gt; 0 and $HeightM &gt; 0</li></ul></li></ol><p><em>For more information on visibility, <a href="#visibility">click here</a>.</em></p><h2 id="skip-logic" tabindex="-1"><strong>Skip Logic</strong> <a class="header-anchor" href="#skip-logic" aria-label="Permalink to &quot;**Skip Logic**&quot;">​</a></h2><p><em>Use for: presenting only relevant data fields to users, skip logic enables non-relevant items to be skipped within a form</em></p><p>For example:</p><p><img src="/assets/bbd-smoking-example.CNhv9iwJ.png" alt="smoking example"></p><p>The following steps show two ways to use skip logic, using both binary choice (Yes/No Answer) and select one from multiple options (Dropdown Menu) data fields.</p><ol><li>Input and label the data fields as required. This example uses: <ul><li>Dropdown Menu</li><li>Yes/No Answer</li><li>Explanatory Text. The aim is to ask only smokers if they want help to stop smoking and if they answer ‘Yes’, to provide them with more information.</li></ul></li></ol><p><img src="/assets/bbd-smoking-status.CRwFPTr3.png" alt="smoking status"></p><ol start="2"><li>Label any required choices. You can use numeric or string (text) values. For this example, we are using numeric values. Click <em>Apply</em>.</li></ol><p><img src="/assets/bdd-choices-example.KnxNnH1U.png" alt="choices example"></p><ol start="3"><li>Click the <em>Control Settings</em> (cog) icon at the side of the data field to access settings. Question 1. “Do you smoke?” should be set as a required field (i.e. it must be answered).</li></ol><p><img src="/assets/bdd-dd-required.BLsmJJVk.png" alt="dropdown required"></p><ol start="4"><li>Label the controls for the data fields that will be used to determine if - this will make inputting the XPath expression simpler.</li></ol><p><img src="/assets/bdd-yesno-label.DTdjTnnM.png" alt="yes/no visibility label"></p><ol start="5"><li>Next, go to the first data field that will be skipped (i.e. by those who are not smokers). Click the_Control Settings_ (cog) icon. In the <em>Formulas</em> tab input the X-Path into the <em>Visibility</em> text box in the format $control-name = true() As this is a select one from multiple data field, we can use the value that relates to being a smoker (2 = I am a smoker), as we want the next question to be visible only to smokers. The formula is: $patient-is-a-smoker = 2</li></ol><p><img src="/assets/bdd-yesno-visibility.CBK83eAr.png" alt="yes/no visibility formula"></p><ol start="6"><li>The next data field - information about how to quit smoking - is a binary response option (Yes/No Answer). If the patient responds ‘Yes’, we want them to see Here we can use the formula: $patient-wants-to-stop = true()</li></ol><p><img src="/assets/bdd-explanatory-text-visibility.CQ3BMoGQ.png" alt="explanatory text visibility formula"></p><ol><li><a href="./../buildingblocks/preview-building-blocks.html">Preview and test</a> the building block.</li></ol><p><em>More on Skip Logic:</em></p><ul><li><em>To create skip logic for data fields with more than one relevant response options use the OR expression. Use of the expressions is dependent on how you have labelled the response options (numeric or string). For example:</em><ol><li><em>$patient-is-a-smoker = 2 or $patient-is-a-smoker = 3</em></li><li><em>$patient-is-a-smoker = i-am-a-smoker or $patient-is-a-smoker = i-use-electronic-cigarettes</em></li></ol></li><li><em>For more complex XPath expressions, see the quick reference list in the <a href="./../faq.html">FAQ guide</a>.</em></li></ul><h2 id="filtering-drop-downs" tabindex="-1"><strong>Filtering Drop Downs</strong> <a class="header-anchor" href="#filtering-drop-downs" aria-label="Permalink to &quot;**Filtering Drop Downs**&quot;">​</a></h2><p>Values in one drop down can be used to filter the values in another dropdown.</p><ol><li>Create the first drop down and add some values to it</li></ol><p><img src="/assets/bdd-dd-choices.C3TP9kKO.png" alt="dropdown choices"></p><ol><li>Give the dropdown a name</li></ol><p><img src="/assets/bdd-dd-name.BVsaVACK.png" alt="dropdown name"></p><ol start="3"><li>Create a second dropdown and add values to it. In the filter groups column add a value from the first dropdown to have this list filtered when the first dropdown is set to that value. Multiple values can be entered separated by a space.</li></ol><p><img src="/assets/bdd-dd-choices.C3TP9kKO.png" alt="dropdown choices"></p><ol start="4"><li>On the second dropdown under additional settings set the choice filter xpath to the name of the first dropdown.</li></ol><p><img src="/assets/bdd-dd-filterxpath.BMSPwYFX.png" alt="dropdown filter xpath"></p><ol start="5"><li>Preview the form and you can see that changing the first dropdown filters the results of the second dropdown ($what-do-you-drink-most-of)</li></ol><p><img src="/assets/bdd-filter-preview.NuHexiVe.gif" alt="dropdown filter preview"></p><h2 id="evaluating-checkboxes" tabindex="-1"><strong>Evaluating Checkboxes</strong> <a class="header-anchor" href="#evaluating-checkboxes" aria-label="Permalink to &quot;**Evaluating Checkboxes**&quot;">​</a></h2><p>When using checkboxes often more than one answer will be provided meaning we need to use an XPath query to work out which options have been selected.</p><ol><li>Add a checkbox control with more than one option and a calculated value. In this example we have a selection of foods and a calculated value that determines if the selected foods contain fruits.</li></ol><p><img src="/assets/bdd-checkboxes-example.D49STFf1.png" alt="checkboxes example"></p><ol start="2"><li>In order to determine which checkbox values have been selected we can use the XPath function <code>contains</code>, the first argument to the function is a text value we want to search and the second argument is the value we want to search for. On the formula tab of the calculated value control we can use <code>contains</code> and <code>or</code> to search for multiple values, if the value we are searching for is found then the contains function returns true.</li></ol><p><img src="/assets/bdd-yesno-calculated-val.4gDloINE.png" alt="yes/no calculated value"></p><ol><li>When the user selects a value that matches one of those in our contains formula the calculated value changes to true.</li></ol><p><img src="/assets/bdd-checkboxes-preview.CdHeaI8L.png" alt="checkboxes preview"></p><h2 id="validation" tabindex="-1"><strong>Validation</strong> <a class="header-anchor" href="#validation" aria-label="Permalink to &quot;**Validation**&quot;">​</a></h2><p><em>Use for: setting accepted parameters within a data field that constrain the values that users can input, by type (e.g. string, numeric etc.) and other criteria e.g length or value. These parameters mean that unacceptable values will be rejected and can be associated with error messages.</em></p><p>For example:</p><p><img src="/assets/bdd-bmi-preview-errored.By3ioQhG.png" alt="bmi preview error"></p><p><img src="/assets/bdd-blood-pressure-error.BnKqDYyb.png" alt="blood pressure preview error"></p><h3 id="validation-using-formulas" tabindex="-1"><strong>Validation using formulas</strong> <a class="header-anchor" href="#validation-using-formulas" aria-label="Permalink to &quot;**Validation using formulas**&quot;">​</a></h3><ol><li>Input the required data fields that will be constrained. In this example, these fields are height and weight.</li><li>Go to the <em>Control Settings</em> (cog) icon and the <em>Validations and Alerts</em> tab. In the second dropdown menu, ensure the correct <em>Data Type</em> is selected. In this case, the data type is ‘decimal’.</li><li>In the third dropdown menu, <em>Formula</em> is selected as the default option. Input the required formula into the text box to the right. For this example, a height will be validated if it is greater than 0m (&gt;0) and less than 2.5m (&lt;2.5).</li></ol><p><img src="/assets/bdd-number-field-options.9ftP2j8-.png" alt="number field options"></p><p><em>Find more information about common operators on the <a href="./../faq.html">FAQ guide</a>.</em></p><p><em>Note: For numeric values, the expression =’’ (left blank) can be used to ensure that when a formula is used to set the validation rules for a data field, the field can also be valid when blank (i.e. it is optional to complete). The =’’ expression OR =’string’ can be used for non-numeric values.</em></p><h3 id="other-validation-options" tabindex="-1"><strong>Other validation options</strong> <a class="header-anchor" href="#other-validation-options" aria-label="Permalink to &quot;**Other validation options**&quot;">​</a></h3><ol><li>Go to the <em>Control Settings</em> (cog) icon and the <em>Validations and Alerts</em> tab.In the third dropdown menu, there are a range of additional validation options: <ul><li>Positive</li><li>Positive or Zero</li><li>Negative</li><li>Negative or Zero</li></ul></li><li>Use these options together with a relevant <em>Data Type</em> to create validation rules.</li></ol><h2 id="visibility" tabindex="-1"><strong>Visibility</strong> <a class="header-anchor" href="#visibility" aria-label="Permalink to &quot;**Visibility**&quot;">​</a></h2><p><em>Use for: configuring if and when a data field is visible to a form user. Visibility can be used to show information or data fields to form users, based on defined parameters.</em></p><p>In this example, the from user is shown a relevant message about BMI, based on the calculated BMI using a patient’s height and weight information.</p><p>For example:</p><p><img src="/assets/bdd-bmi-preview-2.D0KEqUTQ.png" alt="bmi preview"></p><ol><li>Input the required data fields that will be used to set the parameters for visibility of the BMI explanatory information. In this example, these fields are: height, weight and calculated BMI. The information visbility will be based on the calculated BMI value. Use relevant value labels (e.g. calculated-bmi) to reference the relevant data fields (controls) and set parameters in formulas. <em>Note: in this example, the calculated value field also has visibiility controls applied. This creates a hierarchy within the building blocK so that height and weight have to be input to produce calculated value. The visibility of any later data fields that rely on the calculated value will have this reliance in addition to any defined controls.</em></li><li>Create an explanatory text data field for each of the BMI calculation explanations. These can be nested within separate sections if preferred, which will further emphasise the way the explanations are presented to users. <em>Note: this example uses section highlighting. You can find out more in the <a href="./../buildingblocks/edit-building-blocks.html#highlight-data-fields">highlighting</a> explanation.</em></li></ol><p><img src="/assets/bdd-highlight-grid-preview.Ba7VXULk.png" alt="highlight grid preview"></p><ol start="3"><li>Click the <em>Control Settings</em> (cog) icon for each explanatory text field and input the relevant parameters in the <em>Visibility</em> text box in the <em>Formulas</em> tab. Formulas take the form: $control-name operator. Operators can include &gt;, &lt;, &gt;=, &lt;= etc. See more in the <a href="./../faq.html">FAQ guide</a>. In this example: <ul><li>The underweight BMI range is less than 18.5. So underweight explantory text visibility = $calculated-bmi &lt; 18.5</li><li>The healthy weight BMI range is between 18.5 and 24.9. So healthy weight explanatory text visibility = $calculated-bmi &gt;= 18.5 and $calculated-bmi &lt; 25</li><li>The overweight BMI range is between 25 and 29.9. So overweight explanatory text visbility = $calculated-bmi &gt;= 25 and $calculated-bmi &lt; 30</li><li>The obese BMI range is between 30 and 30.9. So obese explanatory text visibility = $calculated-bmi &gt; 30</li></ul></li><li></li></ol><p><img src="/assets/bdd-explanatory-text-visibility-2.D20j0st2.png" alt="explanatory text visibility"></p><p><em>Note: if using the current control value as the parameter to set visibility, a full stop (.) can be used in place of the ‘$control-name’ format.</em></p></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-5941af80><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-5941af80><span class="visually-hidden" id="doc-footer-aria-label" data-v-5941af80>Pager</span><div class="pager" data-v-5941af80><!----></div><div class="pager" data-v-5941af80><a class="VPLink link pager-link next" href="/user-guide/getting-started.html" data-v-5941af80><!--[--><span class="desc" data-v-5941af80>Next page</span><span class="title" data-v-5941af80>Getting started</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"developers_client-notifications.md\":\"CVPpSUHO\",\"changelog.md\":\"9hbvI7AR\",\"developers_api.md\":\"BeC_oQv0\",\"index.md\":\"BV6eE2pT\",\"user-guide_buildingblocks_preview-building-blocks.md\":\"1XyaC_eY\",\"user-guide_advanced_best-practices.md\":\"Cu8DYTFm\",\"user-guide_advanced_import-export-form-definitions.md\":\"DXEumZ4c\",\"user-guide_advanced_rules-and-logic.md\":\"CYso9H_J\",\"user-guide_buildingblocks_add-basic-controls.md\":\"BoIe5X-v\",\"user-guide_buildingblocks_create-add-remove-building-block.md\":\"C3uEgJat\",\"developers_extract-v2.md\":\"Ca1BMj1b\",\"user-guide_buildingblocks_building-block-designer-overview.md\":\"DqYtd72x\",\"user-guide_buildingblocks_edit-building-blocks.md\":\"BVaj5RzW\",\"user-guide_faq.md\":\"DYOj6xla\",\"user-guide_getting-started.md\":\"VhInwBib\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"AireForms\",\"description\":\"User Guides and Developer Documentation for AireForms\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\"},\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"User guide\",\"link\":\"/user-guide/getting-started\"},{\"text\":\"Developers\",\"link\":\"/developers/api\"},{\"text\":\"Changelog\",\"link\":\"/changelog\"},{\"text\":\"Demo\",\"link\":\"https://demo.forms4health.com\"},{\"text\":\"Find out more\",\"link\":\"https://www.aireinnovate.com/forms4health\"}],\"sidebar\":{\"/user-guide\":{\"base\":\"/user-guide/\",\"items\":[{\"text\":\"Getting started\",\"link\":\"/getting-started\"},{\"base\":\"/user-guide/buildingblocks/\",\"text\":\"Building blocks\",\"items\":[{\"text\":\"Designer overview\",\"link\":\"/building-block-designer-overview\"},{\"text\":\"Create, add and remove\",\"link\":\"/create-add-remove-building-block\"},{\"text\":\"Edit building blocks\",\"link\":\"/edit-building-blocks\"},{\"text\":\"Add basic controls\",\"link\":\"/add-basic-controls\"},{\"text\":\"Preview\",\"link\":\"preview-building-blocks\"}]},{\"base\":\"/user-guide/advanced/\",\"text\":\"Advanced topics\",\"items\":[{\"text\":\"Rules and logic\",\"link\":\"/rules-and-logic\"},{\"text\":\"Best practices\",\"link\":\"/best-practices\"},{\"text\":\"Download and upload\",\"link\":\"/import-export-form-definitions\"}]},{\"text\":\"Troubleshooting\",\"items\":[{\"text\":\"FAQ\",\"link\":\"/faq\"}]}]},\"/developers\":{\"base\":\"/developers/\",\"items\":[{\"text\":\"API\",\"link\":\"/api\"},{\"text\":\"Extract V2\",\"link\":\"/extract-v2\"},{\"text\":\"Client notifications\",\"link\":\"/client-notifications\"}]}}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>