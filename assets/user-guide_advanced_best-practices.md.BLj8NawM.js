import{_ as a,c as o,o as t,ah as n}from"./chunks/framework.BwFTqLo3.js";const i="/assets/bdd-field-name.CjdwOQFO.png",s="/assets/bdd-repeat.DdXSTJ20.png",r="/assets/bdd-bb-title.2dwKWmVk.png",b=JSON.parse('{"title":"Best practices","description":"","frontmatter":{},"headers":[],"relativePath":"user-guide/advanced/best-practices.md","filePath":"user-guide/advanced/best-practices.md","lastUpdated":1769011328000}'),l={name:"user-guide/advanced/best-practices.md"};function c(d,e,h,u,m,g){return t(),o("div",null,[...e[0]||(e[0]=[n('<h1 id="best-practices" tabindex="-1">Best practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best practices&quot;">​</a></h1><p>This page discusses some best practice we use here at Aire Innovate to build forms that are easy to maintain and to encourage consistency across your form authoring team.</p><h2 id="tldr" tabindex="-1"><strong>TLDR</strong> <a class="header-anchor" href="#tldr" aria-label="Permalink to &quot;**TLDR**&quot;">​</a></h2><p>In summary - here at Aire Innovate we:</p><ul><li>Use Pascal Case naming for form controls - for instance naming controls with names such as <code>FamilyName</code> or <code>DueDate</code></li><li>Use kebab-case naming for building blocks - for instance <code>personal-details</code> and <code>next-of-kin</code></li><li>Identify reusable building blocks up-front - for instance by prefixing the name with the word <em>generic</em> - e.g. <code>generic-next-of-kin</code>.</li><li>Favour small building blocks - with 10 or less controls to allow flexibility of form layout composition and maximise the likelihood of re-use.</li><li>Use short kebab case names for forms - for instance <code>asthma-review</code></li><li>Favour intermediate calculations - Typically done within the same building block to avoid significant cross-building block coupling and also to reduce calculation complexity and fragility to change. For instance if you had a form that calculated a wellbeing score on a variety of measures such as <em>GAD-7</em>, <em>PHQ-9</em> and <em>The Warwick-Edinburgh Mental Wellbeing Scale - WEMWBS</em> then it is best to break these into individual building blocks with scores in each that are then summed or otherwise combined to create an overall score.</li></ul><h2 id="naming-conventions" tabindex="-1"><strong>Naming Conventions</strong> <a class="header-anchor" href="#naming-conventions" aria-label="Permalink to &quot;**Naming Conventions**&quot;">​</a></h2><p>When you have multiple form authors working on developing your library it is worth defining some naming conventions up-front. By having some naming conventions in place it will make it easier for your form authors and maintainers to understand what has already been developed, to be able to create a common data dictionary (e.g. the names of building blocks and controls are used on the reporting APIs in much the same way a Database Table and Column Name is used in SQL queries) and to reduce duplication.</p><p>Below we describe some of the strategies we typically adopt, however there is no reason you could not define your own conventions - the goal is to create consistency.</p><h3 id="control-and-section-naming-conventions" tabindex="-1"><strong>Control and Section Naming Conventions</strong> <a class="header-anchor" href="#control-and-section-naming-conventions" aria-label="Permalink to &quot;**Control and Section Naming Conventions**&quot;">​</a></h3><p>When deciding on a naming convention for controls it is worth bearing in mind the following:</p><h4 id="constraints" tabindex="-1"><strong>Constraints</strong> <a class="header-anchor" href="#constraints" aria-label="Permalink to &quot;**Constraints**&quot;">​</a></h4><ul><li>A control name must be unique within a building block. For instance if you had a building block that captured a structured address you could not have multiple <code>AddressLine</code> controls - you would need to find an alternative approach such as using <code>AddressLine1</code>, <code>AddressLine2</code> etc.</li><li>Control names cannot contain spaces - for instance you cannot have a control called <code>Address Line</code></li><li>Must start with a letter - Control names cannot start with a number - for instance you cannot use <code>1-Item</code> but you can have <code>Item-1</code>.</li><li>Permitted characters in the name are letters, digits, hyphens, underscores, and full stops [periods]</li></ul><h4 id="naming-considerations" tabindex="-1"><strong>Naming considerations</strong> <a class="header-anchor" href="#naming-considerations" aria-label="Permalink to &quot;**Naming considerations**&quot;">​</a></h4><ul><li>Use meaningful names - for instance the default names the designer applies are similar to <code>control-1</code> and <code>section-3</code>. It is better to rename them to something meaningful such as <code>GivenName</code> (control) and <code>PersonalDetails</code> (section) to make it easier for downstream consumers to understand what the data represents. For instance the data/value of the control might be used in a calculation elsewhere on the form or be queried via the data and reporting APIs</li><li>Choose names that reflect the data, not the question - for instance if there is a question asking about customer satisfaction use a name such as <code>SatisfactionRating</code> rather than <code>HowSatisfiedAreYou</code>. This means the control describes the data rather than the context of the data capture and is therefore more meaningful when consumed by downstream systems.</li><li>XPath is case sensitive so when referring to controls in xpath you must use the same casing as you have defined in the control/section</li></ul><p><img src="'+i+'" alt="naming convention" data-zoomable="true"></p><h4 id="possible-naming-conventions" tabindex="-1"><strong>Possible naming conventions</strong> <a class="header-anchor" href="#possible-naming-conventions" aria-label="Permalink to &quot;**Possible naming conventions**&quot;">​</a></h4><p>You might wish to consider the following naming conventions (many of these will be familiar to coders or JSON/XML designers).</p><ul><li><a href="https://en.wikipedia.org/wiki/Camel_case" target="_blank" rel="noreferrer">camelCase</a> - or more specifically <em>lower camel case</em> where the control name starts with a lowercase letter and each word in the name has a capital - for instance <code>familyName</code></li><li><a href="https://en.wikipedia.org/wiki/Pascal_(programming_language)#Language_constructs" target="_blank" rel="noreferrer">PascalCase</a> where the control starts with an uppercase letter and each word in the name has a capital - for instance <code>FamilyName</code></li><li><a href="https://en.wikipedia.org/wiki/Snake_case" target="_blank" rel="noreferrer">snake_case</a> where the control starts with a lowercase letter and each word in the name is separated by an <code>_</code> [underscore] - for instance <code>family_name</code>. Note: you could equally choose to start each word with a capital letter - e.g. <code>Family_Name</code>.</li><li><a href="https://en.wikipedia.org/wiki/Letter_case#Special_case_styles" target="_blank" rel="noreferrer">kebab-case</a> where the control starts with a lowercase letter and each word in the name is separated by a <code>-</code> [hyphen] - for instance <code>family-name</code>. Note: you could equally choose to start each word with a capital letter - e.g. <code>Family-Name</code> however this is relatively uncommon in the wider technology industry.</li></ul><p>Here at Aire Innovate we favour the Pascal Case notation, however any of the above is fine - consistency is key.</p><h4 id="repeats-approaches-for-naming-repeated-items" tabindex="-1"><strong>Repeats - approaches for naming repeated items</strong> <a class="header-anchor" href="#repeats-approaches-for-naming-repeated-items" aria-label="Permalink to &quot;**Repeats - approaches for naming repeated items**&quot;">​</a></h4><p>If you use a repeat to capture naturally repeating information such as <em>medications</em> or <em>team members</em> you might want to alter the defaults that the building-block designer will create (the designer just adds an <code>...-iteration</code> postfix to the name you give the repeat/grid). You can override this default behaviour and provide a more meaningful name.</p><p><img src="'+s+'" alt="repeat" data-zoomable="true"></p><h3 id="building-block-naming-convention" tabindex="-1"><strong>Building Block Naming Convention</strong> <a class="header-anchor" href="#building-block-naming-convention" aria-label="Permalink to &quot;**Building Block Naming Convention**&quot;">​</a></h3><p>When naming building blocks you can adopt any of the naming conventions as above, however any uppercase characters will be converted to lowercase.</p><p><strong>Constraints</strong></p><ul><li>Must start with a letter.</li><li>Cannot contain spaces.</li><li>Can contain letters, digits, hyphens, underscores.</li><li>Avoid lengthy names</li></ul><p><img src="'+r+`" alt="building block title" data-zoomable="true"></p><p>Note - the application name is not used by the runtime environment at all so can be called anything. Sometimes it is useful to use a common <em>application</em> name to readily spot building blocks related to a given use-case - for instance <code>wellbeing</code>.</p><h3 id="planning-for-re-use" tabindex="-1"><strong>Planning for re-use</strong> <a class="header-anchor" href="#planning-for-re-use" aria-label="Permalink to &quot;**Planning for re-use**&quot;">​</a></h3><p>Create a convention whereby you strongly indicate that you would expect a building block to be re-used in a wide variety of forms. For instance include the word <em>generic</em> as part of the name.</p><p>For example - here at Aire Innovate we tend to favour <a href="https://en.wikipedia.org/wiki/Letter_case#Special_case_styles" target="_blank" rel="noreferrer">kebab-case</a> names for building blocks such as <code>personal-details</code> and prefix building blocks with the word <em>generic</em> where we expect a building block to be re-usable - for example <code>generic-patient-details</code>.</p><h3 id="form-naming-convention" tabindex="-1"><strong>Form Naming Convention</strong> <a class="header-anchor" href="#form-naming-convention" aria-label="Permalink to &quot;**Form Naming Convention**&quot;">​</a></h3><p>Again similar naming convention rationale and options apply. The only thing to bear in mind is that form names will tend to be reflected in the URL - for instance <a href="https://demo.forms4health.com/SinglePassDemo/gad-7/1" target="_blank" rel="noreferrer">https://demo.forms4health.com/SinglePassDemo/gad-7/1</a> the <code>gad-7</code> part of the URL is the form name. As such we would recommend short / succinct form names and here at Aire Innovate we prefer to use a <a href="https://en.wikipedia.org/wiki/Letter_case#Special_case_styles" target="_blank" rel="noreferrer">kebab-case</a> naming convention for forms.</p><p>Note: the form title can be different to the form name. The form title is (typically) displayed at the top of the form and should be human friendly, whereas as discussed above the form name is the unique name for the form and needs to be URL friendly.</p><h2 id="building-block-scope-and-reuse" tabindex="-1"><strong>Building Block Scope and Reuse</strong> <a class="header-anchor" href="#building-block-scope-and-reuse" aria-label="Permalink to &quot;**Building Block Scope and Reuse**&quot;">​</a></h2><p>When designing a new form, or translating a form from an offline equivalent then it is useful to try to identify the building blocks within your form before you start.</p><h3 id="a-building-block-normally-has-one-or-more-of-these-characteristics" tabindex="-1"><strong>A building block normally has one or more of these characteristics</strong> <a class="header-anchor" href="#a-building-block-normally-has-one-or-more-of-these-characteristics" aria-label="Permalink to &quot;**A building block normally has one or more of these characteristics**&quot;">​</a></h3><ul><li>Contains a set of logically related questions / information - For instance patient name, address and contact details, or a correspondence address. Often (but not always) you would expect the logically related information to presented in one or two visual sections in a form - for instance a <em>Next of Kin</em> building block might have one section with the name and relationship of the identified next of kin person, and another section with contact details such as phone, email and contact address.</li><li>Appears in multiple existing forms - If you are analysing a whole suite of forms you might notice there are some common questions or set of questions that seem to be asked on all forms. For instance <em>personal details</em>, or <em>Alcohol Consumption</em>.</li><li>Something you might want to trend - For instance Body Mass Index or <em>BMI</em>. You might wish to trend <em>BMI</em> over time irrespective which form the <em>BMI</em> building block appeared in.</li></ul><h3 id="other-considerations" tabindex="-1"><strong>Other considerations</strong> <a class="header-anchor" href="#other-considerations" aria-label="Permalink to &quot;**Other considerations**&quot;">​</a></h3><ul><li>Data capture you would want to split onto a separate page - Within AireForms it is not possible to split questions / fields of a building block across multiple pages, so consider how you want the layout to be before defining your building blocks.</li><li>Err on the side of small building blocks - To give you the most flexibility in <a href="./../buildingblocks/create-add-remove-building-block.html#add-a-building-block-to-a-form">re-organising the layout of a form</a> we would recommend creating small building blocks with <em>no more than around 10 or so controls</em>. This can still allow you to create long pages (containing multiple building blocks) if you so wished, but would equally allow you to capture data across multiple pages / steps as an alternative layout. If you built the form as effectively one huge building block changing layouts would not be possible.</li><li>Consider reducing the amount of questions presented to users in one go - There has been a fair amount of user research that suggests less is best. For instance see some <a href="https://www.gov.uk/service-manual/design/form-structure" target="_blank" rel="noreferrer">guidance from the UK’s Government Digital Service (GDS)</a>. Clearly you need to consider your audience though - as a clinician filling a form on a daily basis will not have the same behaviour and needs as a patient who rarely uses the service.</li></ul><p>In reality working out the boundaries of building blocks is more <em>art than science</em> that you will learn through experience, however the considerations above should allow you to discover good practice for your organisation in an accelerated time frame.</p><h2 id="scores-and-calculations" tabindex="-1"><strong>Scores and Calculations</strong> <a class="header-anchor" href="#scores-and-calculations" aria-label="Permalink to &quot;**Scores and Calculations**&quot;">​</a></h2><p>If your form contains some complex logic we would recommend trying to break it down as much as possible to minimise downstream complexity, make it easier to test and less fragile when you make changes. This is a similar strategy that an advanced user of Excel or Google Sheets would likely employ. Just like Excel and G Sheets your intermediate calculations can be hidden from end users and only be represented in the actual data.</p><p>To explain further it is easiest to consider an example scenario.</p><h3 id="example-scenario" tabindex="-1"><strong>Example scenario</strong> <a class="header-anchor" href="#example-scenario" aria-label="Permalink to &quot;**Example scenario**&quot;">​</a></h3><p>You are developing an overall wellbeing assessment that calculates a score based on a variety of measures such as <em>GAD-7</em>, <em>PHQ-9</em> and <em>The Warwick-Edinburgh Mental Wellbeing Scale - WEMWBS</em>. Looking at the <a href="#building-block-scope-and-reuse">building block guidance above</a> you have already identified that you will probably need to have at least three building blocks to capture that data (<code>generic-gad-7</code>, <code>generic-phq-9</code> and <code>generic-wemwbs</code>) as well as a final building that summarises the overall score - let’s call it <code>wellbeing-summary</code>. If we imagine the overall score as being a <em>simple sum of all the individual wellbeing measures</em> we have two distinct ways we could approach the solution:</p><h4 id="put-all-the-calculation-logic-in-the-summary" tabindex="-1"><strong>Put all the calculation logic in the summary</strong> <a class="header-anchor" href="#put-all-the-calculation-logic-in-the-summary" aria-label="Permalink to &quot;**Put all the calculation logic in the summary**&quot;">​</a></h4><p>In this case the summary score would need to consider the answers to nearly all the questions (<em>controls</em>) in each of the three building blocks. Combined with the need to employ the <a href="./../faq.html#selectors">Cross Building Block Notation</a> you will have a formula that looks like something like:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>instance(&#39;generic-gad-7&#39;)/$q1 + instance(&#39;generic-gad-7&#39;)/$q2 + ... </span></span>
<span class="line"><span>instance(&#39;generic-phq-9&#39;)/$q1 + instance(&#39;generic-phq-9&#39;)/$q2 + ... </span></span>
<span class="line"><span>instance(&#39;generic-webmwbs&#39;)/$q1 + instance(&#39;generic-webmwbs&#39;)/$q2 + ...</span></span></code></pre></div><p>Which is clearly a bit of a long and error prone XPath. Furthermore such an approach makes it hard to test / spot issues and also would be fragile to any changes in each of the building blocks.</p><p>Furthermore - in this case - <em>GAD-7</em>, <em>PHQ-9</em> etc. are internationally recognised assessment scoring mechanisms and therefore justify the <code>generic-...</code> prefix. You would not want to recalculate the individual scores just because the building blocks were used in a different form.</p><p>Far better to use the approach below.</p><h4 id="calculate-subtotals-within-each-building-block" tabindex="-1"><strong>Calculate subtotals within each building block</strong> <a class="header-anchor" href="#calculate-subtotals-within-each-building-block" aria-label="Permalink to &quot;**Calculate subtotals within each building block**&quot;">​</a></h4><p>In this strategy the majority of calculations are performed within the building block with minimal cross-building block logic. In our example this would mean there would be a field (often hidden to the user) that would calculate the individual building block scores such as:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Gad7Score = $q1 + $q2 ... + $q7</span></span></code></pre></div><p>And the overall score calculated in the <code>wellbeing-summary</code> building block would be simplified to:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>instance(&#39;generic-gad-7&#39;)/$Gad7Score + </span></span>
<span class="line"><span>instance(&#39;generic-phq-9&#39;)/$Phq9Score +</span></span>
<span class="line"><span>instance(&#39;generic-webmwbs&#39;)/$WebmwbsScore</span></span></code></pre></div><p>Whilst the above seems obvious with well established scoring mechanisms such as <em>PHQ-9</em>, the same principles would apply for any locally created algorithms. Equally breaking apart complex logic within a building block allows some intermediary values to be checked / tested and reduces the complexity of the individual formula.</p>`,58)])])}const f=a(l,[["render",c]]);export{b as __pageData,f as default};
